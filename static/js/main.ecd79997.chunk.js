(this["webpackJsonpreact-tesla"]=this["webpackJsonpreact-tesla"]||[]).push([[0],{35:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),i=n(25),o=n.n(i),s=(n(35),n(8)),a=n(41),j=n(26),l=n(4);Object(s.b)({OrbitControls:j.a});var b=function(){var e=Object(s.e)(),t=e.camera,n=e.gl;return Object(l.jsx)("orbitControls",{attach:"orbitControls",args:[t,n.domElement]})},d=n(0),u=function(){var e=Object(s.d)(d.TextureLoader,"/autoshop.jpg"),t=Object(s.e)().gl,n=Object(r.useMemo)((function(){return new d.WebGLCubeRenderTarget(e.image.height).fromEquirectangularTexture(t,e)}),[]);return Object(l.jsx)("primitive",{attach:"background",object:n})},h=n(5),p=n(7),O=function(e){var t=Object(a.c)((function(){return Object(h.a)({args:[20,1,10]},e)})),n=Object(p.a)(t,2),r=n[0];n[1];return Object(l.jsxs)("mesh",Object(h.a)(Object(h.a)({ref:r},e),{},{receiveShadow:!0,children:[Object(l.jsx)("boxBufferGeometry",{args:[202,1,200]}),Object(l.jsx)("meshPhysicalMaterial",{transparent:!0,opacity:.2})]}))},f={activeMesh:{},activeMeshName:"Capot001_CAR_PAINT_0",camerapos:new d.Vector3(9,2,4),target:new d.Vector3(4,0,0),shouldUpdate:!0},m=function(e){var t=function(e){f.activeMesh&&(f.activeMesh.material.color=new d.Color(e.target.style.background))};return Object(l.jsxs)("div",{style:{position:"absolute",zIndex:1,left:0,right:0,margin:"auto",width:"fit-content",display:"flex",top:"20px"},children:[Object(l.jsx)("div",{onClick:t,style:{background:"blue",height:50,width:50}}),Object(l.jsx)("div",{onClick:t,style:{background:"yellow",height:50,width:50}}),Object(l.jsx)("div",{onClick:t,style:{background:"white",height:50,width:50}}),Object(l.jsx)("div",{onClick:t,style:{background:"red",height:50,width:50}})]})},x=function(e){var t=e.position,n=void 0===t?[0,0,0]:t,r=e.offset,c=void 0===r?[0,0,0]:r,i=e.dims,o=void 0===i?[1,1,1]:i,s=e.visible,j=void 0!==s&&s,b=e.children,d=Object(a.c)((function(){return{mass:1,args:o,position:n}})),u=Object(p.a)(d,2),h=u[0],O=u[1];return Object(l.jsxs)("group",{ref:h,api:O,children:[Object(l.jsxs)("mesh",{scale:o,visible:j,children:[Object(l.jsx)("boxBufferGeometry",{}),Object(l.jsx)("meshPhysicalMaterial",{wireframe:!0})]}),Object(l.jsx)("group",{position:c,children:b})]})},g=n(29),v=function(e){var t,n=Object(s.d)(g.a,e.path);return n.animations.length>0&&(t=new d.AnimationMixer(n.scene),n.animations.forEach((function(e){t.clipAction(e).play()}))),Object(s.c)((function(e,n){var r;null===(r=t)||void 0===r||r.update(n)})),n.scene.traverse((function(e){e.isMesh&&(e.castShadow=!0,e.receiveShadow=!0,e.material.side=d.FrontSide)})),Object(l.jsx)("primitive",{object:n.scene,scale:e.scale})},w=n(30);Object(s.b)({DragControls:w.a});var y=function(e){var t=Object(r.useRef)(),n=Object(r.useRef)(),c=Object(r.useState)([]),i=Object(p.a)(c,2),o=i[0],a=i[1],j=Object(s.e)(),b=j.camera,d=j.gl,u=j.scene;return Object(r.useEffect)((function(){a(t.current.children)}),[]),Object(r.useEffect)((function(){n.current.addEventListener("hoveron",(function(e){return u.orbitControls.enabled=!1})),n.current.addEventListener("hoveroff",(function(e){return u.orbitControls.enabled=!0})),n.current.addEventListener("dragstart",(function(e){var t;null===(t=e.object.api)||void 0===t||t.mass.set(0)})),n.current.addEventListener("dragend",(function(e){var t;return null===(t=e.object.api)||void 0===t?void 0:t.mass.set(1)})),n.current.addEventListener("drag",(function(e){var t,n;null===(t=e.object.api)||void 0===t||t.position.copy(e.object.position),null===(n=e.object.api)||void 0===n||n.velocity.set(0,0,0)}))}),[o]),Object(l.jsxs)("group",{ref:t,children:[Object(l.jsx)("dragControls",{transformGroup:e.transformGroup,ref:n,args:[o,b,d.domElement]}),e.children]})},M=function(){return Object(l.jsxs)(r.Suspense,{fallback:null,children:[Object(l.jsx)(y,{transformGroup:!0,children:Object(l.jsx)(x,{position:[4,4,0],dims:[3,2,6],offset:[0,-.4,.8],children:Object(l.jsx)(v,{path:"/tesla_model_3/scene.gltf",scale:new Array(3).fill(.0098),position:[4,.6,0]})})}),Object(l.jsx)(y,{transformGroup:!0,children:Object(l.jsx)(x,{position:[-4,4,0],dims:[3,2,6],offset:[0,-.8,.2],children:Object(l.jsx)(v,{path:"/tesla_model_s/scene.gltf",scale:new Array(3).fill(.71),position:[-4,.2,0]})})}),Object(l.jsx)("group",{rotation:[0,Math.PI,0],children:Object(l.jsx)(v,{path:"mech_drone/scene.gltf",scale:new Array(3).fill(6)})})]})},C=n(31),k=function(e){return Object(C.a)(e),Object(s.c)((function(e){var t=e.camera,n=e.scene;(f.activeMesh.name!==f.activeMeshName&&(f.activeMesh=n.getObjectByName(f.activeMeshName)||{}),f.shouldUpdate)&&(t.position.lerp(f.camerapos,.1),n.orbitControls.target.lerp(f.target,.1),n.orbitControls.update(),t.position.clone().sub(f.camerapos).length()<.1&&(f.shouldUpdate=!1))})),null},S=n(9),_={zIndex:1,position:"absolute",bottom:"30vh",height:"30px",width:"30px",background:"white",textAlign:"center",borderRadius:"100%",fontSize:20,fontWeight:"bold",opacity:"0.7",border:"1px solid black",cursor:"pointer"},E=function(){var e={1:{camerapos:[9,2,4],target:[4,0,0],name:"Capot001_CAR_PAINT_0"},2:{camerapos:[1,2,5],target:[-4,0,0],name:"object005_bod_0"}},t=function(t){var n,r;(n=f.camerapos).set.apply(n,Object(S.a)(e[t].camerapos)),(r=f.target).set.apply(r,Object(S.a)(e[t].target)),f.activeMeshName=e[t].name,f.shouldUpdate=!0};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{onClick:function(e){return t(2)},style:Object(h.a)({left:"40vw"},_),children:"<"}),Object(l.jsx)("button",{onClick:function(e){return t(1)},style:Object(h.a)({right:"40vw"},_),children:">"})]})},A=function(e){return Object(l.jsxs)("mesh",Object(h.a)(Object(h.a)({},e),{},{children:[Object(l.jsx)("pointLight",{castShadow:!0,"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10}),Object(l.jsx)("sphereBufferGeometry",{args:[.2,20,20]}),Object(l.jsx)("meshPhongMaterial",{emissive:"yellow"})]}))},L=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("directionalLight",{"shadow-mapSize-height":Math.pow(2,10),"shadow-mapSize-width":Math.pow(2,10),"shadow-radius":10,position:[6,3,0],intensity:2,castShadow:!0}),Object(l.jsx)(A,{position:[-6,3,0]}),Object(l.jsx)(A,{position:[0,3,0]}),Object(l.jsx)(A,{position:[6,3,0]})]})},G=function(){return Object(l.jsxs)("div",{style:{height:"100vh",width:"100vw"},children:[Object(l.jsx)(m,{}),Object(l.jsx)(E,{}),Object(l.jsxs)(s.a,{shadowMap:!0,style:{background:"black"},camera:{position:[7,7,7]},children:[Object(l.jsx)(r.Suspense,{fallback:null,children:Object(l.jsx)(u,{})}),Object(l.jsx)(k,{}),Object(l.jsx)("ambientLight",{intensity:.2}),Object(l.jsx)(L,{}),Object(l.jsx)(b,{}),Object(l.jsx)("axesHelper",{args:[5]}),Object(l.jsxs)(a.a,{children:[Object(l.jsx)(M,{}),Object(l.jsx)(O,{position:[0,-.5,0]})]})]})]})};o.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.ecd79997.chunk.js.map